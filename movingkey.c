#include <stdio.h>
#include <string.h>
#include <windows.h>
#include <conio.h>
#include <stdlib.h>
#include <time.h>

#define HEIGHT 15
#define WIDTH 15
#define UP 72
#define DOWN 80
#define LEFT 75
#define RIGHT 77
#define THEIGHT 30
#define TWIDTH 30

int totalmap[30][30] = { {0}, {0}
	

};
//플레이어 위치
int Px = 15, Py =15;
//맵 저장소--------------------------------
int left_u1[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{1,0,0,0,0,0,0,0,1,1,0,0,0,1,0},
	{1,0,1,1,0,1,0,0,0,0,0,1,0,1,0},
	{1,0,0,0,0,1,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,1,0,1,1,1,0,1,1,0,1,0,0,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,0,0,1,0,0,0,0,0,0,1,0,1,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,1,1,0},
	{1,0,1,1,1,0,0,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,1,1,1,0,1,0,0,0},
	{1,0,1,1,0,0,0,1,0,1,0,1,0,1,1}
};
int left_u2[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{1,0,0,0,0,0,0,0,1,1,0,0,0,1,0},
	{1,0,1,1,0,1,1,0,0,0,0,1,0,1,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,1,1,1,0,0,0,0,1,0,0,0,0,0},
	{1,0,1,0,1,1,1,0,1,1,0,1,0,0,0},
	{1,0,0,0,0,0,0,0,1,1,0,1,0,1,0},
	{1,0,1,1,0,1,0,0,0,0,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,1,1,1,0,0,0,0,1,0,1,1,1,0},
	{1,0,0,1,0,0,1,1,1,1,0,1,0,0,0},
	{1,0,0,0,0,1,1,1,0,1,0,1,0,1,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0}

};
int left_u3[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1 },
	{1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0},
	{1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0},
	{1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 1},
	{1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0},
	{1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0},
	{1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0},
	{1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0},
	{1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1},
	{1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0},
	{1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0},
	{1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0},
	{1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 1},
	{1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0},
	{1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 1}
};
int left_d1[HEIGHT][WIDTH] = {
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,1,0,1,1,1,0,0,1,0,1,0,0,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,0,0,0,1,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,1,1,1,0,1,1,0,1,0,0,0,0,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,0,0,1,1,1,1,0,1,0,0,0,0,0},
	{1,0,1,0,0,0,1,0,0,1,0,1,0,1,1},
	{1,0,0,0,0,0,0,0,1,1,0,1,0,1,0},
	{1,0,1,0,1,1,1,0,0,1,0,1,0,0,0},
	{1,0,0,0,1,1,1,1,0,1,0,0,0,0,0},
	{1,0,0,0,0,1,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,0,0,0,0,0,1,0,1,1,1,0},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};
int left_d2[HEIGHT][WIDTH] = {
	{1,0,1,0,0,0,1,1,1,1,0,1,0,1,1},
	{1,0,1,1,1,0,0,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,1,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,1},
	{1,0,0,0,1,0,0,0,0,0,0,1,0,1,0},
	{1,0,1,0,1,1,1,0,1,1,0,1,0,0,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,1},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,1,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,1,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,0,1,1,0,1,0,0,0},
	{1,0,1,1,0,1,0,0,0,0,0,1,0,1,0},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}

};
int left_d3[HEIGHT][WIDTH] = {
	{1,0,1,0,0,0,1,1,1,1,0,1,0,1,1},
	{1,0,1,1,1,0,0,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,1,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,1},
	{1,0,0,0,1,0,0,0,0,0,0,1,0,1,0},
	{1,0,1,0,1,1,1,0,1,1,0,1,0,0,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,1},
	{1,0,0,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,1,0},
	{1,0,0,0,0,0,1,1,0,1,0,1,1,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,0,0,0,0,1,0,1,1,0,1,0,0,0},
	{1,0,1,1,0,1,0,0,0,0,0,1,0,1,0},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}

};
int left_d4[HEIGHT][WIDTH] = {
	{1,0,1,0,0,1,1,0,1,1,0,1,0,0,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,0,0,1,0,0,0,0,0,0,1,0,1,0},
	{1,0,1,0,1,1,1,0,1,0,1,1,1,1,0},
	{1,0,1,0,1,0,0,0,0,0,0,1,0,0,0},
	{1,0,1,0,0,0,1,1,1,1,0,1,0,1,0},
	{1,0,1,1,1,0,1,0,0,1,0,0,0,0,0},
	{1,0,1,0,0,0,1,1,0,1,0,1,0,1,0},
	{1,0,0,0,1,0,0,0,0,0,0,1,0,1,0},
	{1,0,1,0,0,1,1,0,1,1,0,1,0,0,0},
	{1,0,1,1,0,1,0,0,0,1,0,1,0,1,0},
	{1,0,0,0,0,0,0,1,0,0,0,0,0,1,0},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}

};
int right_u1[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{0,0,0,0,0,0,0,1,1,0,0,0,0,0,1},
	{0,1,0,1,1,1,0,0,0,0,0,1,1,0,1},
	{1,1,0,1,0,0,0,1,1,1,0,1,1,0,1},
	{0,1,0,1,0,1,1,1,1,1,0,0,0,0,1},
	{0,0,0,0,0,1,1,0,0,0,0,1,0,1,1},
	{0,1,1,1,1,1,1,1,0,1,1,1,0,1,1},
	{0,0,0,1,1,1,1,1,0,0,0,0,0,0,1},
	{1,1,0,1,0,0,0,0,1,0,1,0,1,0,1},
	{1,1,0,1,0,1,1,0,1,0,1,0,1,0,1},
	{1,1,0,0,0,1,1,0,0,0,0,0,0,0,1},
	{0,0,0,1,0,0,0,0,1,1,0,1,1,0,1},
	{0,1,1,1,0,1,1,0,0,0,0,1,1,0,1},
	{0,0,1,1,0,0,0,0,1,1,0,0,0,0,1},
	{1,0,1,0,0,1,1,0,0,0,0,1,1,0,1}

};
int right_u2[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{0,0,0,1,0,0,1,1,1,1,1,1,0,0,1},
	{0,1,1,1,1,0,1,0,0,0,0,0,0,1,1},
	{0,0,0,1,1,0,1,0,1,0,1,1,0,1,1},
	{0,1,1,0,1,0,1,0,0,0,1,1,0,1,1},
	{0,0,0,0,0,0,1,0,1,1,1,0,0,1,1},
	{1,1,1,0,1,1,0,0,0,1,1,0,1,1,1},
	{1,1,1,0,1,1,0,1,1,1,0,0,1,1,1},
	{0,0,0,0,0,1,0,0,0,0,0,1,0,1,1},
	{0,1,1,1,0,1,1,0,1,1,1,1,0,1,1},
	{0,1,1,1,0,1,1,0,0,0,1,1,0,1,1},
	{0,0,1,1,0,1,0,0,1,0,1,1,0,1,1},
	{0,0,0,1,0,0,1,1,1,0,1,1,0,1,1},
	{0,1,0,1,1,0,1,1,1,0,1,0,0,0,1},
	{0,0,1,0,0,0,0,1,1,0,0,0,1,0,1}

};
int right_u3[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{0,0,0,0,1,1,0,0,0,0,0,1,1,1,1},
	{0,1,1,0,1,1,1,1,0,1,0,0,0,1,1},
	{0,0,1,0,1,1,1,1,0,1,1,1,0,1,1},
	{1,0,1,0,0,0,0,0,0,0,0,0,0,1,1},
	{1,0,0,1,1,0,1,1,0,1,1,0,1,1,1},
	{1,1,0,1,1,0,1,1,0,0,0,0,0,0,1},
	{1,1,0,0,0,0,1,0,0,1,1,1,1,0,1},
	{0,1,1,1,0,1,1,1,0,1,1,1,1,0,1},
	{0,0,0,1,0,0,0,0,0,0,1,0,0,0,1},
	{0,1,1,1,0,1,1,1,0,1,1,0,1,1,1},
	{0,1,0,0,0,1,1,1,0,1,1,0,1,1,1},
	{0,0,0,1,1,1,1,0,0,0,0,0,0,0,1},
	{0,1,1,1,1,0,0,0,1,1,1,1,1,0,1},
	{1,0,1,0,0,0,1,1,1,0,0,0,0,0,1}
};
int right_u4[HEIGHT][WIDTH] = {
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	{0,1,1,1,0,0,0,0,0,1,1,0,0,0,1},
	{0,0,0,0,0,1,1,1,0,1,1,1,1,0,1},
	{1,0,1,1,1,1,0,0,0,1,0,0,0,0,1},
	{1,0,0,0,1,1,0,1,1,1,0,1,1,1,1},
	{1,1,1,0,1,1,0,0,1,1,0,0,1,1,1},
	{0,0,0,0,1,1,1,0,1,1,1,0,1,1,1},
	{0,1,0,0,1,0,1,0,0,0,0,0,0,1,1},
	{0,1,1,1,1,0,1,1,1,0,1,1,0,1,1},
	{0,1,1,0,0,0,1,1,1,0,1,0,0,1,1},
	{0,1,1,0,1,1,1,1,0,0,1,0,1,1,1},
	{1,0,1,0,1,1,0,0,0,1,1,0,1,1,1},
	{0,0,0,0,0,0,0,1,1,0,0,0,0,0,1},
	{0,0,1,0,1,1,0,0,0,0,1,1,1,0,1},
	{1,0,0,0,0,1,1,0,1,0,1,1,0,0,1}
};
int right_d1[HEIGHT][WIDTH] = {
	{0,1,0,0,1,0,0,1,1,0,0,1,0,1,1},
	{0,1,0,0,1,0,0,1,1,0,0,1,0,1,1},
	{0,1,0,1,0,0,1,0,1,0,1,0,1,0,1},
	{0,0,0,1,0,0,1,0,0,1,0,0,0,0,1},
	{1,1,0,1,1,0,1,1,0,0,0,0,1,1,1},
	{0,0,0,1,0,0,1,0,0,1,1,0,0,0,1},
	{0,1,1,0,0,1,1,0,0,0,1,1,0,0,1},
	{0,0,0,0,1,1,0,0,1,0,0,1,0,1,1},
	{1,0,1,1,0,0,0,1,1,1,0,0,0,1,1},
	{1,0,0,1,1,1,0,1,0,0,0,1,0,0,1},
	{1,1,0,0,0,0,0,1,0,1,0,0,1,0,1},
	{1,0,0,1,1,1,0,1,0,1,1,0,1,0,1},
	{1,0,1,0,1,1,0,0,0,0,1,0,0,0,1},
	{1,0,0,0,0,0,0,1,1,0,0,0,1,1,1},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};
int right_d2[HEIGHT][WIDTH] = {
	{1,0,1,0,0,1,1,1,0,1,1,0,0,1,1},
	{0,0,0,0,1,1,0,0,0,1,1,0,1,1,1},
	{1,0,1,0,0,0,0,1,0,0,0,0,1,1,1},
	{0,0,0,1,1,0,1,1,0,1,1,0,0,0,1},
	{0,1,1,1,0,0,0,1,0,1,1,1,1,0,1},
	{0,1,0,0,0,1,0,0,0,1,0,0,0,0,1},
	{1,1,0,1,0,1,1,0,1,1,0,1,1,1,1},
	{1,1,0,1,0,1,1,0,1,1,0,0,0,1,1},
	{0,1,0,1,0,0,0,0,1,0,0,1,0,1,1},
	{0,0,0,0,0,1,1,1,1,0,1,1,0,0,1},
	{1,1,1,0,1,0,0,0,0,0,0,1,0,1,1},
	{0,0,1,0,0,0,1,1,0,1,0,1,0,0,1},
	{1,0,1,1,0,1,1,0,0,1,0,1,1,0,1},
	{0,0,0,0,0,0,0,0,1,1,0,0,0,0,1},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};
int right_d3[HEIGHT][WIDTH] = {
	{1,0,1,0,0,1,1,1,0,1,1,0,0,1,1},
	{0,0,0,0,1,1,0,0,0,1,1,0,1,1,1},
	{1,0,1,0,0,0,0,1,0,0,0,0,1,1,1},
	{0,0,0,1,1,0,1,1,0,1,1,0,0,0,1},
	{0,1,1,1,0,0,0,1,0,1,1,1,1,0,1},
	{0,1,0,0,0,1,0,0,0,1,0,0,0,0,1},
	{1,1,0,1,0,1,1,0,1,1,0,1,1,1,1},
	{1,1,0,1,0,1,1,0,1,1,0,0,0,1,1},
	{0,1,0,1,0,0,0,0,1,0,0,1,0,1,1},
	{0,0,0,0,0,1,1,1,1,0,1,1,0,0,1},
	{1,1,1,0,1,0,0,0,0,0,0,1,0,1,1},
	{0,0,1,0,0,0,1,1,0,1,0,1,0,0,1},
	{1,0,1,1,0,1,1,0,0,1,0,1,1,0,1},
	{0,0,0,0,0,0,0,0,1,1,0,0,0,0,1},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};
int right_d4[HEIGHT][WIDTH] = {
	{0,0,1,0,1,1,0,0,0,1,1,1,0,0,1},
	{0,0,1,0,1,1,0,0,0,1,1,1,0,0,1},
	{1,0,0,0,1,1,0,1,1,1,0,0,0,1,1},
	{0,0,0,1,1,0,1,1,0,1,0,1,0,1,1},
	{0,1,0,1,0,0,1,1,0,1,0,0,0,1,1},
	{1,1,0,0,0,1,1,0,0,1,1,1,0,0,1},
	{0,0,1,1,1,0,0,0,1,1,0,1,1,0,1},
	{1,0,0,0,1,1,0,1,1,1,0,1,1,0,1},
	{0,0,1,0,0,1,0,0,1,1,0,0,1,0,1},
	{1,1,1,1,0,1,1,0,1,1,1,0,0,0,1},
	{0,0,1,1,0,0,0,0,1,0,0,1,1,0,1},
	{0,1,1,0,0,1,0,1,1,0,1,0,1,0,1},
	{0,0,1,1,0,1,0,0,1,0,1,0,0,0,1},
	{1,0,0,0,0,1,1,0,0,0,1,1,1,1,1},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
};
//int map[30][30] = {
//		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
//		{1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1},
//		{1,1,0,1,1,0,1,0,0,1,0,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1},
//		{1,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1},
//		{1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1},
//		{1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1},
//		{1,1,0,1,1,0,1,0,0,1,0,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1},
//		{1,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1},
//		{1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1},
//		{1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1},
//		{1,1,0,1,1,0,1,0,0,1,0,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1},
//		{1,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1},
//		{1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1},
//		{1,0,1,0,1,0,1,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,1},
//		{1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1},
//		{1,1,0,1,1,0,1,0,0,1,0,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,0,0,1,1},
//		{1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1},
//		{1,1,0,0,0,1,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1},
//		{1,1,1,0,1,0,0,1,0,1,0,1,0,1,0,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1},
//		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1}
//};
//-----------------------------------------

void change_color(int color_number);
void gotoxy(int x, int y);
void move();
int crash(int* map, int x, int y);
void print_map();
void baseC();

int randomize();
void L_Dcraft();
void L_Ucraft();
void R_Dcraft();
void R_Ucraft();

void TMP(int map[][30], int height, int width);

int keeper(int(*map)[36], int X, int Y);

int keeper(int(*map)[36], int X, int Y) {

	int checker;

	if (*(*(map + Y) + X) == 0) {
		checker = 1;
	}
	else if (*(*(map + Y) + X) == 2) {
		checker = 1;
	}
	else { checker = 0; }

	return checker;
}

void baseC(int map[][WIDTH], int Lheight, int Hheight, int Lwidth, int Hwidth) {//int로 바꾼다
	//일정구간을 최종 맵저장소에 저장
	int i2 = 0, j2 = 0;
	for (int i = Lheight; i < Hheight; i++) {
		j2 = 0;
		for (int j = Lwidth; j < Hwidth; j++) {
			totalmap[i][j] = map[i2][j2];
			j2++;
		}
		i2++;
	}
}

int randomize(void) {//맵조합을 위한 랜덤값생성
	srand(time(NULL));
	int random = 0;
	random = rand() % 8 + 1;//1~10
	return random;
}

void L_Ucraft() {
	//왼쪽 위 맵 선택
	int select = randomize();
	if (select <= 2) {
		baseC(left_u1, 0, 15, 0, 15);
	}
	else if (select > 2 && select <= 4) {
		baseC(left_u2, 0, 15, 0, 15);
	}
	else if (select > 4 && select <= 6) {
		baseC(left_u3, 0, 15, 0, 15);
	}
	else if (select > 6 && select <= 8) {
		baseC(left_u1, 0, 15, 0, 15);
	}
	//맵 추가해야함



}
void L_Dcraft() {
	//왼쪽 아래 맵 선택
	int select = randomize();
	if (select <= 2) {
		baseC(left_d1, 15, 30, 0, 15);
	}
	else if (select > 2 && select <= 4) {
		baseC(left_d2, 15, 30, 0, 15);
	}
	else if (select > 4 && select <= 6) {
		baseC(left_d3, 15, 30, 0, 15);
	}
	else if (select > 6 && select <= 8) {
		baseC(left_d4, 15, 30, 0, 15);
	}

}
void R_Dcraft() {
	//오른쪽 아래 맵 선택
	int select = randomize();
	if (select <= 2) {
		baseC(right_d1, 15, 30, 15, 30);
	}
	else if (select > 2 && select <= 4) {
		baseC(right_d2, 15, 30, 15, 30);
	}
	else if (select > 4 && select <= 6) {
		baseC(right_d3, 15, 30, 15, 30);
	}
	else if (select > 6 && select <= 8) {
		baseC(right_d4, 15, 30, 15, 30);
	}

}
void R_Ucraft() {
	//오른쪽 위 맵 선택
	int select = randomize();
	if (select <= 2) {
		baseC(right_u1, 0, 15, 15, 30);
	}
	else if (select > 2 && select <= 4) {
		baseC(right_u2, 0, 15, 15, 30);
	}
	else if (select > 4 && select <= 6) {
		baseC(right_u3, 0, 15, 15, 30);
	}
	else if (select > 6 && select <= 8) {
		baseC(right_u4, 0, 15, 15, 30);
	}

}

void TMP(int map[][30], int height, int width) {//int로 바꾼다

	for (int i = 0; i < height; i++) {
		for (int j = 0; j < width; j++) {//조건문으로 각 디지털값에 따른 문자를 출력한다.
			if (map[i][j] == 1) {
				change_color(6);
				printf("■");
			}
			else if (map[i][j] == 0) {

				printf("  ");
			}else if (map[i][j] == 0) {

				printf("  ");
			}
			else if (map[i][j] == 2) {

				printf("◎");
			}
			
		}
		printf("\n");
	}
}


void change_color(int color_number) //콘솔 출력색상 나타내는 함수
{
	SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), color_number);
}

void gotoxy(int x, int y)
{
	COORD Cur;
	Cur.X = x;
	Cur.Y = y;
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), Cur);


}
void Player() {
	
}
void Pmove() {
	totalmap[Py][Px] = 2;
	int keyhit = _getch();
	switch (keyhit) {
	case UP:
		Py -= 1;
		//위로 y-1
		break;
	case DOWN:
		Py += 1;
		//아래로 y+1
		break;
	case LEFT:
		Px -= 1;
		//왼쪽로 x-1
		break;
	case RIGHT:
		Px += 1;
		//오른쪽로 x+1
		break;
	}
}
//키입력에 따른 움직임

//방향키를 계속 눌러서 진행하려면 오류가 발생함
//흔적을 남겼을 때 같이 문제가 발생하는 것으로 생각함
//void move() {
//	int x = 2;
//	int y = 2;
//	int move_c;
//	int check;
//
//	gotoxy(x, y + 2);
//	change_color(3);
//	printf("●");
//	while (1) {
//
//		move_c = getch();
//		change_color(3);
//
//		switch (move_c) {
//
//		case UP: gotoxy(x, y + 2);
//			printf("  ");
//			y -= 1;
//			check = crash(map, x, y);
//			if (check == 1) {
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			else if (check == 0) {
//				y += 1;
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			//gotoxy(x, y+2);
//			////위에 있는 함수로 흔적을 없앤다.
//			//printf("●");
//			//break;
//
//		case DOWN: gotoxy(x, y + 2);
//			printf("  ");
//			y += 1;
//			check = crash(map, x, y);
//			if (check == 1) {
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//
//			else if (check == 0) {
//				y -= 1;
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			/*gotoxy(x, y+2);
//			printf("●");
//			break;*/
//
//		case LEFT: gotoxy(x, y + 2);
//			printf("  ");
//			x -= 2;
//			check = crash(map, x, y);
//			if (check == 1) {
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			else if (check == 0) {
//				x += 2;
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			/*gotoxy(x, y+2);
//			printf("●");
//			break;*/
//
//		case RIGHT: gotoxy(x, y + 2);
//			printf("  ");
//			x += 2;
//			check = crash(map, x, y);
//			if (check == 1) {
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			else if (check == 0) {
//				x -= 2;
//				gotoxy(x, y + 2);
//				printf("●");
//				break;
//			}
//			/*gotoxy(x, y+2);
//			printf("●");
//			break;*/
//
//
//
//
//		}
//	}
//
//
//}
//int crash(int(*map)[30], int x, int y) {
//	int check;
//	if (*(*(map + y) + x) == 1) {
//		check = 1;
//	}
//	//else if (*(*(map + y) + x) == 2) {
//		//check = 1;
//	//}
//	//몹충돌
//	else {
//		check = 0;
//	}
//
//	return check;
//}
//
//void print_map() {
//	for (int i = 0; i < 30; i++) {
//		for (int k = 0; k < 30; k++) {
//			if (totalmap[i][k] == 0) {
//				printf("  ");
//			}
//			else if (totalmap[i][k] == 1) {
//				change_color(3);
//				printf("■");
//			}
//
//		}
//		printf("\n");
//	}
//
//}


void initialize() {
	
	L_Dcraft();
	L_Ucraft();
	R_Ucraft();
	R_Dcraft();
	totalmap[Py][Px] = 2;
}

int main() {
	//initialize
	initialize();
	//------------------
	//아마 while문
	Player();
 

	while (1) {
		Pmove();
		TMP(totalmap, 30, 30);
	}
	
	

	//한개의 씬 끝

};